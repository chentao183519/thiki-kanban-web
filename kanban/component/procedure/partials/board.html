<div id="board-options">
    <span id="board-name">
        {{board.name}}
    </span>

    <div class="board-operation-menu dropdown" uib-tooltip="看板设置"
         tooltip-placement="right"
         tooltip-trigger="mouseenter">
        <button class="dropdown-toggle dropdown"
                type="button"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="true"
        >
            <span class="thiki-setting glyphicon glyphicon-cog"></span>
        </button>
        <ul class="thiki-banner-menu thiki-menu-items dropdown-menu">
            <li class="thiki-menu-item" ng-click="openProjectsDialog()">
                <a><span class="thiki-menu-ico procedure-ico glyphicon glyphicon-th-large"></span> 所属项目</a></li>
            <li class="thiki-menu-item" ng-click="openBoardTags()"><a>
                <span class="thiki-menu-ico procedure-ico glyphicon glyphicon-tags"></span> 标签</a></li>
            <li class="thiki-menu-item" ng-click="openBoardConfiguration()"><a><span
                    class="thiki-menu-ico procedure-ico glyphicon glyphicon-cog"></span> 配置</a></li>
            <li class="thiki-menu-item" ng-click="openSprintDialog()"><a><span
                    class="thiki-menu-ico procedure-ico glyphicon glyphicon-plane"></span> 迭代设置</a></li>
            <li class="thiki-menu-item" ng-click="openSprintCompetitionDialog()" ng-show="sprint!==undefined">
                <a><span
                        class="thiki-menu-ico procedure-ico glyphicon glyphicon-ok-sign"></span> 完成迭代</a>
            </li>
            <li role="separator" class="divider"></li>
            <li class="thiki-menu-item thiki-delete-item"><a
                    ng-click="openBoardDelete()"><span
                    class="thiki-menu-ico procedure-ico glyphicon glyphicon-trash"></span> 删除</a>
            </li>
        </ul>
    </div>

    <div id="board-sprint"
         ng-show="sprint!==undefined"
         uib-tooltip="迭代周期"
         tooltip-placement="top"
         tooltip-trigger="mouseenter">
        <div id="sprint-time-box">
            {{sprint.startTime | formatTime:'YYYY年MM月DD日'}} - {{sprint.endTime | formatTime:'YYYY年MM月DD日'}}
            迭代周期 <span class="sprint-time-box-days">{{sprint.totalDays}}</span> 天
            剩余 <span class="sprint-time-box-days">{{sprint.remainingDays}}</span> 天
            <span class="sprint-expire-message" ng-show="sprint.remainingDays<0">迭代已经超期</span> {{sprint.sprintName}}
        </div>
        <div id="sprint-indicator-animation">
            <div ng-repeat="n in [].constructor(sprint.totalDays) track by $index"
                 max="index"
                 value="$index"
                 animate="true"
                 class="sprint-indicator"
                 ng-class="{'sprint-went-days':$index < sprint.wentDays,'sprint-today':$index == sprint.wentDays,'sprint-remaining-days':$index > sprint.wentDays,'sprint-expire':sprint.remainingDays<0}">
            </div>
        </div>
    </div>
    <div class="board-pages-button board-options-button"
         uib-tooltip="看板文库"
         tooltip-placement="left"
         tooltip-trigger="mouseenter"
         ng-click="openPagesDialog()">
        <span class="kanban-view-type-menu glyphicon glyphicon-book"></span> 文库
    </div>
    <div class="sprint-view-type dropdown board-options-button board-options-button-gray"
         uib-tooltip="看板视图切换"
         tooltip-placement="left"
         tooltip-trigger="mouseenter">
        <button class="dropdown-toggle dropdown" type="button" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="true">
            <span class="kanban-view-type-menu glyphicon glyphicon-align-left"></span>{{typeName}}
        </button>
        <ul class="thiki-banner-menu thiki-menu-items dropdown-menu">
            <li class="thiki-menu-item"
                ng-click="loadProcedures('sprintViewSnapshot','迭代视图')"
                ng-class="{'active-view-type':activeViewType=='sprintViewSnapshot'}"
                uib-tooltip="本次迭代中的卡片"
                tooltip-placement="left"
                tooltip-trigger="mouseenter">
                <a><span class="thiki-menu-ico procedure-ico glyphicon glyphicon-plane"></span> 迭代视图</a>
            </li>
            <li class="thiki-menu-item"
                ng-click="loadProcedures('archiveViewSnapshot','归档视图')"
                ng-class="{'active-view-type':activeViewType=='archiveViewSnapshot'}"
                uib-tooltip="已经归档的卡片"
                tooltip-placement="left"
                tooltip-trigger="mouseenter">
                <a><span class="thiki-menu-ico procedure-ico glyphicon glyphicon-briefcase"></span> 归档视图</a>

            </li>
            <li class="thiki-menu-item"
                ng-click="loadProcedures('roadMapViewSnapshot','产品路线图')"
                ng-class="{'active-view-type':activeViewType=='roadMapViewSnapshot'}"
                uib-tooltip="未进入迭代的卡片、本次迭代中已经完成的卡片以及归档的卡片"
                tooltip-placement="left"
                tooltip-trigger="mouseenter">
                <a><span class="thiki-menu-ico procedure-ico glyphicon glyphicon-road"></span> 产品路线图</a>
            </li>
            <li class="thiki-menu-item"
                ng-click="loadProcedures('fullViewSnapshot','项目全景图')"
                ng-class="{'active-view-type':activeViewType=='fullViewSnapshot'}"
                uib-tooltip="当前看板所有卡片"
                tooltip-placement="left"
                tooltip-trigger="mouseenter">
                <a><span class="thiki-menu-ico procedure-ico glyphicon glyphicon-picture"></span> 项目全景图</a>
            </li>
        </ul>
    </div>
</div>
